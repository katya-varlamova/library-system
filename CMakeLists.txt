cmake_minimum_required(VERSION 3.19)
project(src)

set(CMAKE_CXX_STANDARD 17)

find_package(SOCI REQUIRED)
find_package(PostgreSQL REQUIRED)
find_package(oatpp REQUIRED)

add_executable(src main.cpp Database/Entities/DBBook/DBBook.cpp Database/Entities/DBBook/DBBook.h Database/Entities/DBBook/BookRepository.cpp Database/Entities/DBBook/BookRepository.h Database/Entities/DBAccount/DBAccount.cpp Database/Entities/DBAccount/DBAccount.h Database/Entities/DBAccount/AccountRepository.cpp Database/Entities/DBAccount/AccountRepository.h Database/Entities/DBAccount/AccountSpecifications/AccountSpecification.h Database/DataAccessFacade/DataAccessFacade.cpp Database/DataAccessFacade/DataAccessFacade.h Database/DataAccessFacade/PostgresDataAccessFacade.cpp Database/DataAccessFacade/PostgresDataAccessFacade.h Database/Connection/Connection.cpp Database/Connection/Connection.h Database/DataAccessFacade/Commands/Command.cpp Database/DataAccessFacade/Commands/Command.h Database/DataAccessFacade/Commands/AuthCommand/AuthCommand.h Database/DataAccessFacade/Commands/AuthCommand/AuthCommand.cpp Logic/Entities/Book/Book.cpp Logic/Entities/Book/Book.h Logic/Entities/Library/Library.cpp Logic/Entities/Library/Library.h Logic/Entities/Account/Account.cpp Logic/Entities/Account/Account.h Database/Entities/DBLibrary/DBLibrary.cpp Database/Entities/DBLibrary/DBLibrary.h Database/Entities/DBLibrary/LibraryRepository.cpp Database/Entities/DBLibrary/LibraryRepository.h Database/Entities/DBBook/BookSpecifications/BookSpecification.cpp Database/Entities/DBBook/BookSpecifications/BookSpecification.h Database/Entities/DBAccount/AccountSpecifications/GetAccountByLogin.cpp Database/Entities/DBAccount/AccountSpecifications/GetAccountByLogin.h Database/Entities/DBAccount/AccountConverter.h Logic/LogicException.cpp Logic/LogicException.h Database/DataAccessFacade/Commands/RegisterCommand/RegisterCommand.cpp Database/DataAccessFacade/Commands/RegisterCommand/RegisterCommand.h Database/DataAccessFacade/Commands/CreateDatabaseCommand/CreateDatabaseCommand.cpp Database/DataAccessFacade/Commands/CreateDatabaseCommand/CreateDatabaseCommand.h Database/DataAccessFacade/Commands/GetFreeBooksCommands/GetFreeBooksByNameCommand.cpp Database/DataAccessFacade/Commands/GetFreeBooksCommands/GetFreeBooksByNameCommand.h Database/Entities/DBBook/BookSpecifications/GetFreeBooksByNameSpec.cpp Database/Entities/DBBook/BookSpecifications/GetFreeBooksByNameSpec.h Database/Entities/DBBook/BookConverter.cpp Database/Entities/DBBook/BookConverter.h Database/Entities/DBAccount/AccountSpecifications/GetAccountByID.cpp Database/Entities/DBAccount/AccountSpecifications/GetAccountByID.h Database/Entities/DBLibrary/LibrarySpecifications/LibarySpecification.h Database/Entities/DBLibrary/LibrarySpecifications/GetLibraryByID.cpp Database/Entities/DBLibrary/LibrarySpecifications/GetLibraryByID.h Database/Entities/DBLibrary/LibraryConverter.cpp Database/Entities/DBLibrary/LibraryConverter.h Logic/DataAccessManager/DataAccessManager.cpp Logic/DataAccessManager/DataAccessManager.h Database/DataAccessFacade/Commands/AddBooksCommand/AddBooksCommand.cpp Database/DataAccessFacade/Commands/AddBooksCommand/AddBooksCommand.h Database/DataAccessFacade/Commands/GetFreeBooksCommands/GetFreeBooksByAuthorCommand.cpp Database/DataAccessFacade/Commands/GetFreeBooksCommands/GetFreeBooksByAuthorCommand.h Database/Entities/DBBook/BookSpecifications/GetFreeBooksByAuthorSpec.cpp Database/Entities/DBBook/BookSpecifications/GetFreeBooksByAuthorSpec.h Database/Entities/DBBook/DBBookMappings.h Database/Entities/DBLibrary/LibrarySpecifications/CheckExistanceLibrary.cpp Database/Entities/DBLibrary/LibrarySpecifications/CheckExistanceLibrary.h Database/Entities/DBBook/BookSpecifications/TakeBookSpecification.cpp Database/Entities/DBBook/BookSpecifications/TakeBookSpecification.h Database/DatabseException.cpp Database/DatabseException.h Logic/Server/Controller/ServerController.h Logic/Server/DTOs/DTOs.h Logic/Server/ServerSettings/ServerSettings.h Database/DataAccessFacade/Commands/DeleteDatabaseCommand/DeleteDatabaseCommand.cpp Database/DataAccessFacade/Commands/DeleteDatabaseCommand/DeleteDatabaseCommand.h)

target_link_libraries(src PRIVATE SOCI::soci_core PostgreSQL::PostgreSQL oatpp::oatpp)